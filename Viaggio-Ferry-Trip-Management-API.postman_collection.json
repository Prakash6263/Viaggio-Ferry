{"info":{"name":"Viaggio Ferry - Trip Management API","description":"Complete Trip Management, Allocations and Trip Ticketing Rules API - 14 endpoints","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"auth":{"type":"bearer","bearer":[{"key":"token","value":"YOUR_JWT_TOKEN_HERE","type":"string"}]},"item":[{"name":"TRIPS","item":[{"name":"Create Trip","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"tripName\":\"Ferry Route Mumbai - Goa\",\"tripCode\":\"MG001\",\"ship\":\"{{ship_id}}\",\"departurePort\":\"{{port_id_1}}\",\"arrivalPort\":\"{{port_id_2}}\",\"departureDateTime\":\"2025-03-15T08:00:00Z\",\"arrivalDateTime\":\"2025-03-15T16:00:00Z\",\"bookingOpeningDate\":\"2025-02-25T00:00:00Z\",\"bookingClosingDate\":\"2025-03-14T23:59:59Z\",\"checkInOpeningDate\":\"2025-03-15T06:00:00Z\",\"checkInClosingDate\":\"2025-03-15T07:30:00Z\",\"boardingClosingDate\":\"2025-03-15T07:45:00Z\",\"status\":\"SCHEDULED\",\"remarks\":\"Regular scheduled service\"}"},"url":{"raw":"{{base_url}}/api/trips","host":["{{base_url}}"],"path":["api","trips"]}}},{"name":"List Trips","request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/api/trips?page=1&limit=10&search=&status=SCHEDULED","host":["{{base_url}}"],"path":["api","trips"],"query":[{"key":"page","value":"1"},{"key":"limit","value":"10"},{"key":"search","value":""},{"key":"status","value":"SCHEDULED"}]}}},{"name":"Get Trip By ID","request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}"]}}},{"name":"Update Trip","request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"status\":\"OPEN\",\"remarks\":\"Trip opened for bookings\"}"},"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}"]}}},{"name":"Delete Trip","request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}"]}}},{"name":"Get Trip Availability","request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/availability","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","availability"]}}}]},{"name":"ALLOCATIONS","item":[{"name":"Create Allocation","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"partner\":\"{{partner_id}}\",\"allocations\":[{\"availabilityId\":\"{{availability_id_1}}\",\"quantity\":50,\"soldQuantity\":0},{\"availabilityId\":\"{{availability_id_2}}\",\"quantity\":30,\"soldQuantity\":0}]}"},"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/allocations","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","allocations"]}}},{"name":"List Allocations","request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/allocations","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","allocations"]}}},{"name":"Update Allocation","request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"allocations\":[{\"availabilityId\":\"{{availability_id_1}}\",\"quantity\":60,\"soldQuantity\":10},{\"availabilityId\":\"{{availability_id_2}}\",\"quantity\":40,\"soldQuantity\":5}]}"},"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/allocations/{{allocation_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","allocations","{{allocation_id}}"]}}},{"name":"Delete Allocation","request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/allocations/{{allocation_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","allocations","{{allocation_id}}"]}}}]},{"name":"TRIP TICKETING RULES","item":[{"name":"Assign Rule To Trip","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"ticketingRuleId\":\"{{ticketing_rule_id}}\",\"priority\":1,\"isActive\":true}"},"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/ticketing-rules","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","ticketing-rules"]}}},{"name":"Get Trip Rules","request":{"method":"GET","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/ticketing-rules","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","ticketing-rules"]}}},{"name":"Update Trip Rule","request":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\"priority\":2,\"isActive\":false}"},"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/ticketing-rules/{{trip_rule_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","ticketing-rules","{{trip_rule_id}}"]}}},{"name":"Remove Trip Rule","request":{"method":"DELETE","header":[],"url":{"raw":"{{base_url}}/api/trips/{{trip_id}}/ticketing-rules/{{trip_rule_id}}","host":["{{base_url}}"],"path":["api","trips","{{trip_id}}","ticketing-rules","{{trip_rule_id}}"]}}}]}],"variable":[{"key":"base_url","value":"http://localhost:3000"},{"key":"trip_id","value":""},{"key":"ship_id","value":""},{"key":"port_id_1","value":""},{"key":"port_id_2","value":""},{"key":"partner_id","value":""},{"key":"availability_id_1","value":""},{"key":"availability_id_2","value":""},{"key":"allocation_id","value":""},{"key":"ticketing_rule_id","value":""},{"key":"trip_rule_id","value":""}]}
